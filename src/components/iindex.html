<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagrama de Flujo - Despacho Aduanero Completo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            font-size: 28px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        /* Formas b√°sicas */
        .element {
            position: relative;
            padding: 15px 25px;
            margin: 5px;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            color: #333;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            min-width: 200px;
            z-index: 1;
        }
        
        .element:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        
        /* Terminador (inicio/fin) */
        .terminator {
            border-radius: 50px;
            background: linear-gradient(145deg, #e8f5e8, #c8e6c9);
            border: 3px solid #4caf50;
        }
        
        /* Proceso */
        .process {
            border-radius: 10px;
            background: linear-gradient(145deg, #fff3e0, #ffcc02);
            border: 3px solid #ff9800;
        }
        
        /* Decisi√≥n */
        .decision {
            background: linear-gradient(145deg, #ffebee, #ffcdd2);
            border: 3px solid #f44336;
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
            width: 250px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }
        
        /* Documento */
        .document {
            background: linear-gradient(145deg, #f3e5f5, #e1bee7);
            border: 3px solid #9c27b0;
            border-radius: 10px 10px 0 20px;
            position: relative;
        }
        
        .document::after {
            content: '';
            position: absolute;
            bottom: -3px;
            right: -3px;
            width: 20px;
            height: 20px;
            background: linear-gradient(145deg, #f3e5f5, #e1bee7);
            border-left: 3px solid #9c27b0;
            border-top: 3px solid #9c27b0;
        }
        
        /* Base de datos */
        .database {
            background: linear-gradient(145deg, #e3f2fd, #bbdefb);
            border: 3px solid #2196f3;
            border-radius: 10px;
            position: relative;
        }
        
        /* Conector manual */
        .manual {
            background: linear-gradient(145deg, #fff8e1, #ffecb3);
            border: 3px solid #ffc107;
            clip-path: polygon(0% 20%, 100% 0%, 100% 80%, 0% 100%);
            padding: 20px 30px;
        }
        
        /* Colores por etapa */
        .stage-notification { background: linear-gradient(145deg, #e8eaf6, #c5cae9); border-color: #3f51b5; }
        .stage-registration { background: linear-gradient(145deg, #fff3e0, #ffe0b2); border-color: #ff9800; }
        .stage-declaration { background: linear-gradient(145deg, #f3e5f5, #e1bee7); border-color: #9c27b0; }
        .stage-verification { background: linear-gradient(145deg, #ffebee, #ffcdd2); border-color: #f44336; }
        .stage-inspection { background: linear-gradient(145deg, #fce4ec, #f8bbd9); border-color: #e91e63; }
        .stage-payment { background: linear-gradient(145deg, #fff9c4, #fff176); border-color: #fbc02d; }
        .stage-release { background: linear-gradient(145deg, #e8f5e8, #c8e6c9); border-color: #4caf50; }
        .stage-error { background: linear-gradient(145deg, #ffebee, #ef9a9a); border-color: #d32f2f; }
        
        /* Actores */
        .actor {
            position: absolute;
            padding: 8px 12px;
            font-size: 12px;
            font-weight: bold;
            border-radius: 15px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .agent { background: #1976d2; }
        .authority { background: #d32f2f; }
        .importer { background: #388e3c; }
        
        /* Flechas y conectores */
        .arrow {
            font-size: 24px;
            color: #555;
            margin: 5px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        .arrow-yes { color: #4caf50; }
        .arrow-no { color: #f44336; }
        
        /* Canales de selecci√≥n */
        .channels {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            margin: 20px 0;
        }
        
        .channel {
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            min-height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .channel::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .channel-green { 
            background: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%);
            box-shadow: 0 8px 16px rgba(76, 175, 80, 0.3);
        }
        .channel-yellow { 
            background: linear-gradient(135deg, #ffeb3b 0%, #ffc107 100%);
            color: #333;
            box-shadow: 0 8px 16px rgba(255, 235, 59, 0.3);
        }
        .channel-orange { 
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            box-shadow: 0 8px 16px rgba(255, 152, 0, 0.3);
        }
        .channel-red { 
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            box-shadow: 0 8px 16px rgba(244, 67, 54, 0.3);
        }
        
        /* Secciones paralelas */
        .parallel-section {
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 1000px;
            margin: 20px 0;
        }
        
        .parallel-branch {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        /* Leyenda */
        .legend {
            margin-top: 40px;
            padding: 25px;
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            border: 2px solid #dee2e6;
        }
        
        .legend h3 {
            margin-top: 0;
            color: #495057;
            text-align: center;
            font-size: 20px;
        }
        
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .legend-section {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }
        
        .legend-symbol {
            width: 30px;
            height: 20px;
            margin-right: 10px;
            border-radius: 4px;
            border: 2px solid #333;
        }
        
        /* Elementos de error/rechazo */
        .error-path {
            border: 3px dashed #d32f2f;
            background: linear-gradient(145deg, #ffebee, #ffcdd2);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .channels {
                grid-template-columns: repeat(2, 1fr);
            }
            .parallel-section {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">üö¢ PROCESO COMPLETO DE DESPACHO ADUANERO üö¢</h1>
        
        <div class="flowchart">
            <!-- INICIO -->
            <div class="element terminator">
                ‚ö° INICIO DEL PROCESO
                <div class="actor importer">Importador/Exportador</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- NOTIFICACI√ìN -->
            <div class="element document stage-notification">
                üì¢ NOTIFICACI√ìN DE ARRIBO DE MERCANC√çA
                <div class="actor authority">Autoridades Portuarias</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- DESIGNACI√ìN AGENTE -->
            <div class="element process stage-registration">
                üë®‚Äçüíº DESIGNACI√ìN DE AGENTE ADUANAL
                <div class="actor importer">Importador</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- RECOPILACI√ìN DOCUMENTOS -->
            <div class="element document stage-registration">
                üìã RECOPILACI√ìN DE DOCUMENTOS<br>
                <small>(Factura Comercial, B/L, Certificados, Lista de Empaque)</small>
                <div class="actor agent">Agente Aduanal</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- VERIFICACI√ìN DOCUMENTOS -->
            <div class="element decision stage-verification">
                ‚ùì ¬øDOCUMENTOS COMPLETOS Y CORRECTOS?
                <div class="actor agent">Agente Aduanal</div>
            </div>
            
            <!-- Rama NO - Error en documentos -->
            <div class="parallel-section">
                <div class="parallel-branch">
                    <div class="arrow arrow-no">‚ùå NO</div>
                    <div class="element process error-path">
                        üîÑ CORRECCI√ìN/OBTENCI√ìN DE DOCUMENTOS FALTANTES
                        <div class="actor agent">Agente Aduanal</div>
                    </div>
                    <div class="element process error-path">
                        ‚è± RETRASO EN EL PROCESO<br>
                        <small>Costos adicionales por almacenaje</small>
                    </div>
                </div>
                
                <div class="parallel-branch">
                    <div class="arrow arrow-yes">‚úÖ S√ç</div>
                    <div class="element process stage-declaration">
                        üìù CLASIFICACI√ìN ARANCELARIA
                        <div class="actor agent">Agente Aduanal</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- REGISTRO EN VENTANILLA √öNICA -->
            <div class="element database stage-registration">
                üíª REGISTRO EN VENTANILLA √öNICA (VUCEM)
                <div class="actor agent">Agente Aduanal</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- ELABORACI√ìN PEDIMENTO -->
            <div class="element document stage-declaration">
                üìÑ ELABORACI√ìN DEL PEDIMENTO
                <div class="actor agent">Agente Aduanal</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- VALIDACI√ìN PEDIMENTO -->
            <div class="element decision stage-verification">
                ‚ùì ¬øPEDIMENTO V√ÅLIDO?
                <div class="actor authority">SAT</div>
            </div>
            
            <div class="parallel-section">
                <div class="parallel-branch">
                    <div class="arrow arrow-no">‚ùå NO</div>
                    <div class="element process error-path">
                        üö´ RECHAZO DEL PEDIMENTO
                        <div class="actor authority">SAT</div>
                    </div>
                    <div class="element process error-path">
                        üîÑ CORRECCI√ìN Y REENV√çO<br>
                        <small>Multas y retrasos</small>
                    </div>
                </div>
                
                <div class="parallel-branch">
                    <div class="arrow arrow-yes">‚úÖ S√ç</div>
                    <div class="element process stage-payment">
                        üí∞ C√ÅLCULO DE IMPUESTOS<br>
                        <small>(IGI, IVA, DTA, IEPS)</small>
                        <div class="actor agent">Agente Aduanal</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- PAGO DE CONTRIBUCIONES -->
            <div class="element process stage-payment">
                üè¶ PAGO DE CONTRIBUCIONES
                <div class="actor importer">Importador</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- TRANSMISI√ìN PEDIMENTO -->
            <div class="element database stage-declaration">
                üì§ TRANSMISI√ìN DEL PEDIMENTO
                <div class="actor agent">Agente Aduanal</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- MSA - MECANISMO DE SELECCI√ìN -->
            <div class="element decision stage-verification">
                üéØ MECANISMO DE SELECCI√ìN AUTOMATIZADO (MSA)
                <div class="actor authority">Sistema Aduanero</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- CANALES DE SELECCI√ìN -->
            <div class="channels">
                <div class="channel channel-green">
                    <div>
                        üü¢ <strong>CANAL VERDE</strong><br>
                        Liberaci√≥n Autom√°tica<br>
                        <small>Sin revisi√≥n</small>
                    </div>
                </div>
                <div class="channel channel-yellow">
                    <div>
                        üü° <strong>CANAL AMARILLO</strong><br>
                        Revisi√≥n Documental<br>
                        <small>Solo papeles</small>
                    </div>
                </div>
                <div class="channel channel-orange">
                    <div>
                        üü† <strong>CANAL NARANJA</strong><br>
                        Revisi√≥n Documental<br>
                        + Inspecci√≥n F√≠sica<br>
                        <small>Verificaci√≥n parcial</small>
                    </div>
                </div>
                <div class="channel channel-red">
                    <div>
                        üî¥ <strong>CANAL ROJO</strong><br>
                        Inspecci√≥n Exhaustiva<br>
                        <small>Revisi√≥n total</small>
                    </div>
                </div>
            </div>
            
            <!-- PROCESOS POR CANAL -->
            <div class="parallel-section">
                <!-- Canal Verde -->
                <div class="parallel-branch">
                    <div class="element process stage-release">
                        ‚úÖ LIBERACI√ìN AUTOM√ÅTICA
                        <div class="actor authority">Aduana</div>
                    </div>
                </div>
                
                <!-- Canales de Revisi√≥n -->
                <div class="parallel-branch">
                    <div class="element process stage-inspection">
                        üîç PROCESO DE INSPECCI√ìN
                        <div class="actor authority">Oficial Aduanal</div>
                    </div>
                    
                    <div class="arrow">‚¨á</div>
                    
                    <div class="element decision stage-verification">
                        ‚ùì ¬øINSPECCI√ìN SATISFACTORIA?
                    </div>
                    
                    <div class="parallel-section">
                        <div class="parallel-branch">
                            <div class="arrow arrow-no">‚ùå NO</div>
                            <div class="element process error-path">
                                üö® INCIDENCIAS DETECTADAS<br>
                                <small>Diferencias, irregularidades</small>
                            </div>
                            <div class="element manual error-path">
                                üìã PROCESO ADMINISTRATIVO<br>
                                <small>Multas, embargo precautorio</small>
                            </div>
                        </div>
                        
                        <div class="parallel-branch">
                            <div class="arrow arrow-yes">‚úÖ S√ç</div>
                            <div class="element process stage-verification">
                                ‚úî VALIDACI√ìN DE VALOR Y ORIGEN
                                <div class="actor authority">Aduana</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- AUTORIZACI√ìN DE RETIRO -->
            <div class="element process stage-release">
                üé´ AUTORIZACI√ìN DE RETIRO (MODULO)
                <div class="actor authority">Aduana</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- PAGO DE SERVICIOS PORTUARIOS -->
            <div class="element decision stage-payment">
                ‚ùì ¬øPAGOS PORTUARIOS AL CORRIENTE?
                <div class="actor authority">Puerto/Aeropuerto</div>
            </div>
            
            <div class="parallel-section">
                <div class="parallel-branch">
                    <div class="arrow arrow-no">‚ùå NO</div>
                    <div class="element process error-path">
                        üí∏ PAGO DE SERVICIOS PENDIENTES<br>
                        <small>Almacenaje, maniobras, demoras</small>
                        <div class="actor importer">Importador</div>
                    </div>
                </div>
                
                <div class="parallel-branch">
                    <div class="arrow arrow-yes">‚úÖ S√ç</div>
                    <div class="element process stage-release">
                        üöö RETIRO F√çSICO DE MERCANC√çA
                        <div class="actor importer">Importador</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- ENTREGA FINAL -->
            <div class="element process stage-release">
                üì¶ ENTREGA FINAL AL IMPORTADOR
                <div class="actor agent">Agente Aduanal</div>
            </div>
            
            <div class="arrow">‚¨á</div>
            
            <!-- FIN -->
            <div class="element terminator">
                üèÅ PROCESO COMPLETADO
                <div class="actor importer">Importador</div>
            </div>
        </div>
        
        <!-- LEYENDA COMPLETA -->
        <div class="legend">
            <h3>üìö LEYENDA Y SIMBOLOG√çA</h3>
            
            <div class="legend-grid">
                <div class="legend-section">
                    <h4>üî∂ Formas del Diagrama</h4>
                    <div class="legend-item">
                        <div class="legend-symbol" style="border-radius: 50px; background: #c8e6c9;"></div>
                        <span><strong>√ìvalo:</strong> Inicio/Fin de proceso</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background: #ffe0b2;"></div>
                        <span><strong>Rect√°ngulo:</strong> Proceso/Actividad</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); background: #ffcdd2;"></div>
                        <span><strong>Rombo:</strong> Decisi√≥n</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="border-radius: 8px 8px 0 8px; background: #e1bee7;"></div>
                        <span><strong>Documento:</strong> Documentaci√≥n</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background: #bbdefb;"></div>
                        <span><strong>Base de Datos:</strong> Sistemas</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol error-path" style="border-style: dashed; background: #ffcdd2;"></div>
                        <span><strong>L√≠nea Punteada:</strong> Proceso de Error</span>
                    </div>
                </div>
                
                <div class="legend-section">
                    <h4>üé® Colores por Etapa</h4>
                    <div class="legend-item">
                        <div class="legend-symbol stage-notification"></div>
                        <span><strong>Azul:</strong> Notificaci√≥n</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol stage-registration"></div>
                        <span><strong>Naranja:</strong> Registro</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol stage-declaration"></div>
                        <span><strong>Morado:</strong> Declaraci√≥n</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol stage-verification"></div>
                        <span><strong>Rojo:</strong> Verificaci√≥n</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol stage-payment"></div>
                        <span><strong>Amarillo:</strong> Pago</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol stage-release"></div>
                        <span><strong>Verde:</strong> Liberaci√≥n</span>
                    </div>
                </div>
                
                <div class="legend-section">
                    <h4>üë• Actores Principales</h4>
                    <div class="legend-item">
                        <div class="legend-symbol agent"></div>
                        <span><strong>Agente Aduanal:</strong> Gesti√≥n especializada</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol authority"></div>
                        <span><strong>Autoridades:</strong> SAT, Aduana, Puerto</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol importer"></div>
                        <span><strong>Importador/Exportador:</strong> Cliente final</span>
                    </div>
                </div>
                
                <div class="legend-section">
                    <h4>üö¶ Canales MSA</h4>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background: #4caf50;"></div>
                        <span><strong>Verde:</strong> Sin revisi√≥n (2-5%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background: #ffeb3b;"></div>
                        <span><strong>Amarillo:</strong> Rev. documental (15-20%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background: #ff9800;"></div>
                        <span><strong>Naranja:</strong> Rev. doc + f√≠sica (5-10%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background: #f44336;"></div>
                        <span><strong>Rojo:</strong> Inspecci√≥n total (1-3%)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
